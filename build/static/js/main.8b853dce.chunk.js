(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){e.exports=a(320)},148:function(e,t,a){},202:function(e,t,a){e.exports=a.p+"static/media/1_1.1539bd03.png"},203:function(e,t,a){e.exports=a.p+"static/media/2_1.cb61ab61.png"},204:function(e,t,a){e.exports=a.p+"static/media/3_1.45b313ef.png"},205:function(e,t,a){e.exports=a.p+"static/media/4_1.001ee04e.png"},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},319:function(e,t,a){},320:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=a(15),s=a(16),i=a(18),u=a(17),d=a(19),p=a(22),h=a(105),m=a.n(h),f=function(e,t){return e.toFixed(2)},b={lowestprice:function(e,t){return e.price<t.price?-1:e.price>t.price?1:0},highestprice:function(e,t){return e.price>t.price?-1:e.price<t.price?1:0}},g=(a(148),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null)))}),v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={selected:""},a.createOptions=function(e){return e.map(function(e){return r.a.createElement("option",{value:e.value,key:e.value},e.label)})},a.onChange=function(e){a.props.handleOnChange(e.target.value)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.options;return r.a.createElement("select",{onChange:function(t){return e.onChange(t)},className:a},this.createOptions(n))}}]),t}(n.Component),y=[{value:"",label:"Select"},{value:"lowestprice",label:"Lowest to highest"},{value:"highestprice",label:"Highest to lowest"}],E=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSort=function(e){a.props.updateSort(e)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sort"},"Order by",r.a.createElement(v,{options:y,handleOnChange:this.handleSort}))}}]),t}(n.Component),O=Object(p.b)(function(e){return{sort:e.sort.type}},{updateSort:function(e){return{type:"UPDATE_SORT",payload:e}}})(E),C=function(e){return r.a.createElement("div",{className:"shelf-container-header"},r.a.createElement("small",{className:"products-found"},r.a.createElement("span",null,e.productsLength," Product(s) found.")),r.a.createElement(O,null))},j=(a(149),a(33)),k=a.n(j),_=function(e){return r.a.createElement("div",{className:e.classes},r.a.createElement("img",{src:e.src,alt:e.alt,title:e.title}))},N=Object(p.b)(null,{addProduct:function(e){return{type:"ADD_PRODUCT",payload:e}}})(function(e){var t=e.product,n=e.addProduct;t.quantity=1;var c,l=f(t.price,t.currencyId);if(t.installments){var o=t.price/t.installments;c=r.a.createElement("div",{className:"installment"},r.a.createElement("span",null,"or ",t.installments," x"),r.a.createElement("b",null,t.currencyFormat,f(o,t.currencyId)))}return r.a.createElement(k.a,{className:"shelf-item",onClick:function(){return n(t)},"data-sku":t.sku},t.isFreeShipping&&r.a.createElement("div",{className:"shelf-stopper"}),r.a.createElement(_,{classes:"shelf-item__thumb",src:a(86)("./".concat(t.sku,"_1.png")),alt:t.title}),r.a.createElement("p",{className:"shelf-item__title"},t.title),r.a.createElement("div",{className:"shelf-item__price"},r.a.createElement("div",{className:"val"},r.a.createElement("small",null,t.currencyFormat),r.a.createElement("b",null,l.substr(0,l.length-3)),r.a.createElement("span",null,l.substr(l.length-3,3))),c),r.a.createElement("div",{className:"shelf-item__buy-btn"},"Add to cart"))}),P=function(e){return e.products.map(function(e){return r.a.createElement(N,{product:e,key:e.id})})},S=(a(206),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1},a.handleFetchProducts=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.filters,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.sort;a.setState({isLoading:!0}),a.props.fetchProducts(e,t,function(){a.setState({isLoading:!1})})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleFetchProducts()}},{key:"componentWillReceiveProps",value:function(e){var t=e.filters,a=e.sort;t!==this.props.filters&&this.handleFetchProducts(t,void 0),a!==this.props.sort&&this.handleFetchProducts(void 0,a)}},{key:"render",value:function(){var e=this.props.products,t=this.state.isLoading;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(g,null),r.a.createElement("div",{className:"shelf-container"},r.a.createElement(C,{productsLength:e.length}),r.a.createElement(P,{products:e})))}}]),t}(n.Component)),w=Object(p.b)(function(e){return{products:e.shelf.products,filters:e.filters.items,sort:e.sort.type}},{fetchProducts:function(e,t,a){return function(n){return m.a.get("http://localhost:8001/api/products").then(function(r){var c=r.data.products;return e&&e.length>0&&(c=c.filter(function(t){return e.find(function(e){return t.availableSizes.find(function(t){return t===e})})})),t&&(c=c.sort(b[t])),a&&a(),n({type:"FETCH_PRODUCTS",payload:c})}).catch(function(e){console.log("Could not fetch products. Try again later.")})}}})(S),T=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isChecked:!1},a.toggleCheckboxChange=function(){var e=a.props,t=e.handleCheckboxChange,n=e.label;a.setState(function(e){return{isChecked:!e.isChecked}}),t(n)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.classes,n=this.state.isChecked;return r.a.createElement("div",{className:a},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",value:t,checked:n,onChange:this.toggleCheckboxChange}),r.a.createElement("span",{className:"checkmark"},t)))}}]),t}(n.Component),A=(a(207),["DEL","NYC","MUM","PUN","KOL","HYD","CHE","ENG"]),R=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).toggleCheckbox=function(e){a.selectedCheckboxes.has(e)?a.selectedCheckboxes.delete(e):a.selectedCheckboxes.add(e),a.props.updateFilters(Array.from(a.selectedCheckboxes))},a.createCheckbox=function(e){return r.a.createElement(T,{classes:"filters-available-size",label:e,handleCheckboxChange:a.toggleCheckbox,key:e})},a.createCheckboxes=function(){return A.map(a.createCheckbox)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.selectedCheckboxes=new Set}},{key:"render",value:function(){return r.a.createElement("div",{className:"filters"},r.a.createElement("h4",{className:"title"},"From City:"),this.createCheckboxes())}}]),t}(n.Component),x=Object(p.b)(function(e){return{filters:e.filters.items}},{updateFilters:function(e){return{type:"UPDATE_FILTER",payload:e}}})(R),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isMouseOver:!1},a.handleMouseOver=function(){a.setState({isMouseOver:!0})},a.handleMouseOut=function(){a.setState({isMouseOver:!1})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.product,c=t.removeProduct,l=["shelf-item"];return this.state.isMouseOver&&l.push("shelf-item--mouseover"),r.a.createElement("div",{className:l.join(" ")},r.a.createElement("div",{className:"shelf-item__del",onMouseOver:function(){return e.handleMouseOver()},onMouseOut:function(){return e.handleMouseOut()},onClick:function(){return c(n)}}),r.a.createElement(_,{classes:"cart-item__thumb",src:a(86)("./".concat(n.sku,"_1.png")),alt:n.title}),r.a.createElement("div",{className:"shelf-item__details"},r.a.createElement("p",{className:"title"},n.title),r.a.createElement("p",{className:"desc"},"".concat(n.availableSizes[0]," | ").concat(n.style)," ",r.a.createElement("br",null),"Quantity: ",n.quantity)),r.a.createElement("div",{className:"shelf-item__price"},r.a.createElement("p",null,"".concat(n.currencyFormat,"  ").concat(f(n.price)))))}}]),t}(n.Component),D=(a(208),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.openFloatCart=function(){a.setState({isOpen:!0})},a.closeFloatCart=function(){a.setState({isOpen:!1})},a.addProduct=function(e){var t=a.props,n=t.cartProducts,r=t.updateCart,c=!1;n.forEach(function(t){t.id===e.id&&(t.quantity+=e.quantity,c=!0)}),c||n.push(e),r(n),a.openFloatCart()},a.removeProduct=function(e){var t=a.props,n=t.cartProducts,r=t.updateCart,c=n.findIndex(function(t){return t.id===e.id});c>=0&&(n.splice(c,1),r(n))},a.proceedToCheckout=function(){var e=a.props.cartTotal,t=e.totalPrice,n=e.productQuantity,r=e.currencyFormat,c=e.currencyId;n?alert("Checkout - Subtotal: ".concat(r," ").concat(f(t,c))):alert("Add some product in the cart!")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.newProduct!==this.props.newProduct&&this.addProduct(e.newProduct),e.productToRemove!==this.props.productToRemove&&this.removeProduct(e.productToRemove)}},{key:"render",value:function(){var e=this,t=this.props,a=t.cartTotal,n=t.cartProducts,c=t.removeProduct,l=n.map(function(e){return r.a.createElement(F,{product:e,removeProduct:c,key:e.id})}),o=["float-cart"];return this.state.isOpen&&o.push("float-cart--open"),r.a.createElement("div",{className:o.join(" ")},this.state.isOpen&&r.a.createElement("div",{onClick:function(){return e.closeFloatCart()},className:"float-cart__close-btn"},"X"),!this.state.isOpen&&r.a.createElement("span",{onClick:function(){return e.openFloatCart()},className:"bag bag--float-cart-closed"},r.a.createElement("span",{className:"bag__quantity"},a.productQuantity)),r.a.createElement("div",{className:"float-cart__content"},r.a.createElement("div",{className:"float-cart__header"},r.a.createElement("span",{className:"bag"},r.a.createElement("span",{className:"bag__quantity"},a.productQuantity)),r.a.createElement("span",{className:"header-title"},"Cart")),r.a.createElement("div",{className:"float-cart__shelf-container"},l,!l.length&&r.a.createElement("p",{className:"shelf-empty"},"Fly high with Traveligo, but at the moment your cart is empty.")),r.a.createElement("div",{className:"float-cart__footer"},r.a.createElement("div",{className:"sub"},"SUBTOTAL"),r.a.createElement("div",{className:"sub-price"},r.a.createElement("p",{className:"sub-price__val"},"".concat(a.currencyFormat," ").concat(f(a.totalPrice,a.currencyId))),r.a.createElement("small",{className:"sub-price__installment"},!!a.installments&&r.a.createElement("span",null,"OR UP TO ".concat(a.installments," x ").concat(a.currencyFormat," ").concat(f(a.totalPrice/a.installments,a.currencyId))))),r.a.createElement("div",{onClick:function(){return e.proceedToCheckout()},className:"buy-btn"},"Checkout"))))}}]),t}(n.Component)),B=Object(p.b)(function(e){return{cartProducts:e.cart.products,newProduct:e.cart.productToAdd,productToRemove:e.cart.productToRemove,cartTotal:e.total.data}},{loadCart:function(e){return{type:"LOAD_CART",payload:e}},updateCart:function(e){return function(t){var a=e.reduce(function(e,t){return e+=t.quantity},0),n=e.reduce(function(e,t){return e+=t.price*t.quantity},0);t({type:"UPDATE_CART",payload:{productQuantity:a,installments:e.reduce(function(e,t){return e=t.installments>e?t.installments:e},0),totalPrice:n,currencyId:"INR",currencyFormat:"\u20b9"}})}},removeProduct:function(e){return{type:"REMOVE_PRODUCT",payload:e}}})(D),I=a(38),L=a(108),M=a.n(L),U=a(109),q=a.n(U),z=a(110),H=a.n(z),Q=a(106),W=a.n(Q),J=a(107),V=a.n(J),G=a(34),Y=a.n(G),K=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl;return r.a.createElement("div",{style:{position:"absolute",right:"20px"}},r.a.createElement(W.a,{"aria-owns":e?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},"More +"),r.a.createElement(V.a,{id:"simple-menu",anchorEl:e,open:Boolean(e),onClose:this.handleClose},r.a.createElement(Y.a,{onClick:this.handleClose},"Profile"),r.a.createElement(Y.a,{onClick:this.handleClose},"My account"),r.a.createElement(Y.a,{onClick:this.handleClose},"Logout")))}}]),t}(r.a.Component);var X=Object(I.withStyles)({root:{flexGrow:1}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(M.a,{position:"static",color:"default"},r.a.createElement(q.a,null,r.a.createElement(H.a,{variant:"h6",color:"inherit"},"Traveligo"),r.a.createElement(K,null))))}),Z=a(46),$=a(119),ee=a(63),te=a.n(ee),ae=a(118),ne=a(111),re=a(112),ce=a.n(re),le=a(113),oe=a.n(le),se=a(114),ie=a.n(se),ue=a(115),de=a.n(ue),pe=a(116),he=a.n(pe),me=[{label:"Afghanistan"},{label:"Aland Islands"},{label:"Albania"},{label:"Algeria"},{label:"American Samoa"},{label:"Andorra"},{label:"Angola"},{label:"Anguilla"},{label:"Antarctica"},{label:"Antigua and Barbuda"},{label:"Argentina"},{label:"Armenia"},{label:"Aruba"},{label:"Australia"},{label:"Austria"},{label:"Azerbaijan"},{label:"Bahamas"},{label:"Bahrain"},{label:"Bangladesh"},{label:"Barbados"},{label:"Belarus"},{label:"Belgium"},{label:"Belize"},{label:"Benin"},{label:"Bermuda"},{label:"Bhutan"},{label:"Bolivia, Plurinational State of"},{label:"Bonaire, Sint Eustatius and Saba"},{label:"Bosnia and Herzegovina"},{label:"Botswana"},{label:"Bouvet Island"},{label:"Brazil"},{label:"British Indian Ocean Territory"},{label:"Brunei Darussalam"},{label:"New York"},{label:"New Delhi"},{label:"Hyderabad"},{label:"Chennai"},{label:"Bareilly"},{label:"Sunny"},{label:"Dhama"},{label:"Mumbai"},{label:"Pune"},{label:"Banglore"}],fe=function(){var e=Object(ne.a)(te.a.mark(function e(t){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://localhost:8001/api/products").then(function(e){return e.json()}).then(function(e){var t=e.products.map(function(e){return{label:e.title}});console.log(t),me.push.apply(me,Object(ae.a)(t)),console.log(me)});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function be(e){var t=e.classes,a=e.inputRef,n=void 0===a?function(){}:a,c=e.ref,l=Object($.a)(e,["classes","inputRef","ref"]);return fe(),r.a.createElement(he.a,Object.assign({fullWidth:!0,InputProps:{inputRef:function(e){c(e),n(e)},classes:{input:t.input}}},l))}function ge(e,t){var a=t.query,n=t.isHighlighted,c=ie()(e.label,a),l=de()(e.label,c);return r.a.createElement(Y.a,{selected:n,component:"div"},r.a.createElement("div",null,l.map(function(e,t){return e.highlight?r.a.createElement("span",{key:String(t),style:{fontWeight:500}},e.text):r.a.createElement("strong",{key:String(t),style:{fontWeight:300}},e.text)})))}function ve(e){var t=ce()(e.trim()).toLowerCase(),a=t.length,n=0;return 0===a?[]:me.filter(function(e){var r=n<5&&e.label.slice(0,a).toLowerCase()===t;return r&&(n+=1),r})}function ye(e){return e.label}var Ee=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={single:"",popper:"",suggestions:[]},a.handleSuggestionsFetchRequested=function(e){var t=e.value;a.setState({suggestions:ve(t)})},a.handleSuggestionsClearRequested=function(){a.setState({suggestions:[]})},a.handleChange=function(e){return function(t,n){var r=n.newValue;a.setState(Object(Z.a)({},e,r))}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t={renderInputComponent:be,suggestions:this.state.suggestions,onSuggestionsFetchRequested:this.handleSuggestionsFetchRequested,onSuggestionsClearRequested:this.handleSuggestionsClearRequested,getSuggestionValue:ye,renderSuggestion:ge};return r.a.createElement("div",{className:e.root},r.a.createElement(oe.a,Object.assign({},t,{inputProps:{classes:e,placeholder:"Name of City",value:this.state.single,onChange:this.handleChange("single")},theme:{container:e.container,suggestionsContainerOpen:e.suggestionsContainerOpen,suggestionsList:e.suggestionsList,suggestion:e.suggestion},renderSuggestionsContainer:function(e){return r.a.createElement(k.a,Object.assign({},e.containerProps,{square:!0}),e.children)}})))}}]),t}(r.a.Component),Oe=Object(I.withStyles)(function(e){return{root:{height:250,flexGrow:1},container:{position:"relative"},suggestionsContainerOpen:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},suggestion:{display:"block"},suggestionsList:{margin:0,padding:0,listStyleType:"none"},divider:{height:2*e.spacing.unit}}})(Ee),Ce=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null),r.a.createElement("div",{style:{width:"50%",position:"absolute",top:"150px",left:"25%"}},r.a.createElement(Oe,null)),r.a.createElement("main",{style:{marginTop:"200px"}},r.a.createElement(x,null),r.a.createElement(w,null)),r.a.createElement(B,null))}}]),t}(n.Component),je=a(26),ke=a(117),_e=a(23),Ne={products:[]},Pe={products:[]},Se={data:{productQuantity:0,installments:0,totalPrice:0,currencyId:"INR",currencyFormat:"\u20b9"}},we={item:[]},Te={type:""},Ae=Object(je.c)({shelf:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS":return Object(_e.a)({},e,{products:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_CART":return Object(_e.a)({},e,{products:t.payload});case"ADD_PRODUCT":return Object(_e.a)({},e,{productToAdd:Object.assign({},t.payload)});case"REMOVE_PRODUCT":return Object(_e.a)({},e,{productToRemove:Object.assign({},t.payload)});default:return e}},total:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CART":return Object(_e.a)({},e,{data:t.payload});default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_FILTER":return Object(_e.a)({},e,{items:t.payload});default:return e}},sort:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SORT":return Object(_e.a)({},e,{type:t.payload});default:return e}}}),Re=function(e){e=JSON.parse(window.localStorage.getItem("state"))||e;var t=[ke.a],a=Object(je.e)(Ae,e,Object(je.d)(je.a.apply(void 0,t)));return a.subscribe(function(){var e=a.getState(),t={cart:e.cart,total:e.total};window.localStorage.setItem("state",JSON.stringify(t))}),a},xe=function(e){var t=e.children,a=e.initialState,n=void 0===a?{}:a;return r.a.createElement(p.a,{store:Re(n)},t)};a(319);l.a.render(r.a.createElement(xe,null,r.a.createElement(Ce,null)),document.getElementById("root"))},86:function(e,t,a){var n={"./1_1.png":202,"./2_1.png":203,"./3_1.png":204,"./4_1.png":205};function r(e){var t=c(e);return a(t)}function c(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=86}},[[120,1,2]]]);
//# sourceMappingURL=main.8b853dce.chunk.js.map